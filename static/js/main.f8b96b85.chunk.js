(this["webpackJsonpgithub-jobs"]=this["webpackJsonpgithub-jobs"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(8),r=a.n(i),s=a(2),l=a(3),o=a.n(l),j=a(5),u=a(4),d=(a(14),a(1)),b=function(){return Object(d.jsx)("footer",{className:"app-footer",children:Object(d.jsxs)("small",{className:"copyright",children:["created by ",Object(d.jsx)("b",{children:Object(d.jsx)("a",{href:"https://github.com/gitraya",target:"_blank",rel:"noreferrer",children:"gitraya"})}),"- devChallenges.io"]})})},h=(a(16),function(e){var t=e.sendSearch,a=e.searchData,n=e.forwardedRef,i=a.searchParams,r=a.setSearchParams,l=Object(c.useRef)(null);return Object(d.jsx)("section",{className:"search-section",children:Object(d.jsx)("div",{className:"search-box",children:Object(d.jsx)("form",{onSubmit:function(e){return function(e,a){e.preventDefault(),(l.current.value||n.current.value)&&(r(a),t(a),l.current.value="",n.current.value="")}(e,Object(s.a)(Object(s.a)({},i),{},{description:l.current.value,location:n.current.value,page:1}))},children:Object(d.jsxs)("div",{className:"input-control search",children:[Object(d.jsx)("i",{class:"material-icons-round",children:"work_outline"}),Object(d.jsx)("input",{ref:l,className:"input-search",id:"search",name:"search",type:"text",placeholder:"Title, companies, expertise or benefits"}),Object(d.jsx)("input",{className:"submit-search",type:"submit",value:"Search"})]})})})})}),m=(a(17),function(e){var t=e.className,a=e.name,c=e.id,n=e.label,i=e.value,r=e.checked,s=e.onChange;return Object(d.jsxs)("div",{className:t,children:[Object(d.jsx)("input",{type:"radio",name:a,id:"rad-".concat(c),value:i,checked:r,onChange:s}),Object(d.jsx)("label",{htmlFor:"rad-".concat(c),children:n})]})}),p=Object(c.forwardRef)((function(e,t){var a=e.filterSearch,c=e.sendSearch,n=e.searchData,i=n.searchParams,r=n.setSearchParams,l=function(e){r(Object(s.a)(Object(s.a)({},i),{},{location:e.target.value,page:1})),c(Object(s.a)(Object(s.a)({},i),{},{location:e.target.value,page:1}))},o=["London","Amsterdam","New York","Berlin"].map((function(e,t){return Object(d.jsx)(m,{id:t,className:"radio-group",name:"filterlocation",label:e,value:e,checked:i.location===e,onChange:l},t)}));return Object(d.jsxs)("aside",{className:"filter-section",children:[Object(d.jsx)("div",{className:"filter__fulltime",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("input",{defaultChecked:i.isFulltime,onChange:function(){r(Object(s.a)(Object(s.a)({},i),{},{isFulltime:!i.isFulltime})),a(!i.isFulltime)},id:"fulltime",name:"fulltime",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:"fulltime",children:"Full time"})]})}),Object(d.jsx)("div",{className:"filter__search-location",children:Object(d.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsx)("label",{htmlFor:"location",children:"location"}),Object(d.jsxs)("div",{className:"input-control location",children:[Object(d.jsx)("i",{className:"material-icons-round",children:"public"}),Object(d.jsx)("input",{ref:t,id:"location",name:"location",type:"text",placeholder:"City, state, zip code or country"})]})]})}),Object(d.jsx)("div",{className:"filter__location",children:Object(d.jsx)("form",{action:"",children:o})})]})})),O=(a(18),a(19),function(e){var t=(new Date).getDate(),a=new Date(e).getDate();if(a<t){var c=t-a;return c>1?"".concat(c," days ago"):"yesterday"}if(a===t)return"today"}),f=function(e){var t=e.innerKey,a=e.data,c=e.id,n=c.jobId,i=c.setJobId;return Object(d.jsxs)("div",{className:"card-container",onClick:function(){return i({id:t,display:!n.display})},children:[Object(d.jsx)("div",{className:"card__logo",children:a.company_logo?Object(d.jsx)("img",{src:a.company_logo,alt:"logo"}):Object(d.jsx)("span",{children:"not found"})}),Object(d.jsxs)("div",{className:"card__title",children:[Object(d.jsx)("span",{className:"name",children:a.company}),Object(d.jsx)("h2",{className:"title",children:a.title}),"Full Time"===a.type?Object(d.jsx)("button",{className:"fulltime",children:"Full time"}):""]}),Object(d.jsxs)("div",{className:"card__time",children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"material-icons-round",children:"public"}),a.location]}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{class:"material-icons-round",children:"query_builder"}),O(a.created_at)]})]})]},t)},x=(a(20),a(25)),g=function(e){for(var t=e.currentPage,a=e.dataPerPage,c=e.totalData,n=e.paginate,i=e.currentPageAllData,r=e.paginateAllData,s=[],l=1;l<=Math.ceil(c/a);l++)s.push(l);var o=function(e,t,a){return Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return r(a)},children:Object(d.jsx)("i",{class:"material-icons-round",children:t})})},e)},j=s[s.indexOf(t)-1],u=s[s.indexOf(t)+1],b=function(e){return Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return n(e)},children:e})},e)};return Object(d.jsx)("nav",{className:"pagination-container",children:Object(d.jsxs)("ul",{className:"paginate-wrapper",children:[i>1?o(Object(x.a)(),"navigate_before",i-1):"",s.length>5&&t>s.length/2-1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return n(s[0])},children:s[0]})},s[0]):"",s.length>5&&t>s.length/2-1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item more",type:"button",children:Object(d.jsx)("i",{class:"material-icons-round",children:"more_horiz"})})},Object(x.a)()):"",t>s[0]?b(j):"",c>a?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item active",type:"button",children:t})},t):"",t<=s.length-1?b(u):"",s.length>5&&t<s.length/2+1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item more",type:"button",children:Object(d.jsx)("i",{class:"material-icons-round",children:"more_horiz"})})},Object(x.a)()):"",s.length>5&&t<s.length/2+1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return n(s[s.length-1])},children:s[s.length-1]})},s[s.length-1]):"",50===c?o(Object(x.a)(),"navigate_next",i+1):""]})})},v=function(e){var t=e.data,a=e.jobId,c=e.pagination,n=t.map((function(e){return Object(d.jsx)(f,{innerKey:e.id,data:e,id:a},e.id)}));return Object(d.jsxs)("section",{className:"list-section",children:[Object(d.jsx)("div",{className:"list__cards",children:n}),Object(d.jsx)("div",{className:"list__pagination",children:Object(d.jsx)(g,{currentPage:c.currentPage,dataPerPage:c.dataPerPage,totalData:c.backupData.length,paginate:c.paginate,currentPageAllData:c.searchParams.page,paginateAllData:c.paginateAllData})})]})},N=(a(21),function(e){var t=e.id,a=e.allData,n=e.pageState,i=a.filter((function(e){return e.id===t}))[0],r=Object(c.useRef)(null),s=Object(c.useRef)(null);return Object(c.useEffect)((function(){r.current.innerHTML=i.description,s.current.innerHTML=i.how_to_apply}),[i]),Object(d.jsxs)("main",{className:"main-container",children:[Object(d.jsxs)("aside",{className:"aside",children:[Object(d.jsx)("div",{className:"back-button",children:Object(d.jsxs)("button",{type:"submit",onClick:function(){return n({id:"",display:!1})},children:[Object(d.jsx)("i",{class:"material-icons-round",children:"arrow_right_alt"}),"Back to search"]})}),Object(d.jsxs)("div",{className:"aside-email",children:[Object(d.jsx)("h2",{children:"how to apply"}),Object(d.jsx)("div",{id:"email",ref:s,className:"email-wrapper"})]})]}),Object(d.jsxs)("section",{className:"detail-section",children:[Object(d.jsxs)("div",{className:"detail__title",children:[Object(d.jsxs)("div",{className:"title-wrapper",children:[Object(d.jsx)("h2",{className:"title",children:i.title}),Object(d.jsx)("button",{className:"fulltime",children:"Full time"})]}),Object(d.jsxs)("span",{className:"created",children:[Object(d.jsx)("i",{class:"material-icons-round",children:"query_builder"}),O(i.created_at)]})]}),Object(d.jsxs)("div",{className:"detail__company",children:[Object(d.jsx)("div",{className:"logo",children:i.company_logo?Object(d.jsx)("img",{src:i.company_logo,alt:"logo"}):Object(d.jsx)("span",{children:"not found"})}),Object(d.jsxs)("div",{className:"company-wrapper",children:[Object(d.jsx)("span",{className:"name",children:i.company}),Object(d.jsxs)("span",{className:"location",children:[Object(d.jsx)("i",{className:"material-icons-round",children:"public"}),i.location]})]})]}),Object(d.jsx)("div",{ref:r,className:"detail__description"})]})]})}),y=a(7);var _=function(){var e,t="https://cors-anywhere-venky.herokuapp.com/",a=Object(c.useState)(!1),n=Object(u.a)(a,2),i=n[0],r=n[1],l=Object(y.b)({loading:!0,indicator:Object(d.jsx)(y.a,{width:"50"})}),m=l.containerProps,O=l.indicatorEl,f=Object(c.useState)(null),x=Object(u.a)(f,2),g=x[0],_=x[1],w=Object(c.useState)(null),k=Object(u.a)(w,2),P=k[0],S=k[1],D=Object(c.useState)(5),C=Object(u.a)(D,1)[0],F=Object(c.useState)(1),R=Object(u.a)(F,2),A=R[0],I=R[1],L=Object(c.useState)({id:"",display:!1}),J=Object(u.a)(L,2),T=J[0],E=J[1],M=Object(c.useState)({description:"",location:"",isFulltime:!1,page:1}),z=Object(u.a)(M,2),B=z[0],q=z[1],H=function(e){var t=new URL("https://jobs.github.com/positions.json");return t.search=new URLSearchParams({page:Number(e.page),description:e.description.toLowerCase(),full_time:"".concat(e.isFulltime?"true":""),location:e.location.toLowerCase()}),t},K=function(){var e=Object(j.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("".concat(t).concat(H(a))).then((function(e){return e.json()})).then((function(e){S(e),_(e)})).catch((function(e){return console.log(e)}));case 3:r(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition(G);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(o.a.mark((function e(a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.coords,e.next=3,fetch("".concat(t,"https://jobs.github.com/positions.json?lat=").concat(c.latitude,"&long=").concat(c.longitude)).then((function(e){return e.json()})).then((function(e){S(e),_(e),e.length<1&&r(!0)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=Object(c.useRef)(null),Q=function(e){I(1),K(e)};if(Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.geolocation||g){e.next=6;break}return e.next=3,U();case 3:if(!(g&&g.length<1)&&g){e.next=6;break}return r(!0),e.abrupt("return",K(B));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),g){var V=A*C,W=V-C;e=g.slice(W,V)}return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{children:Object(d.jsxs)("div",{className:"app-logo",children:[Object(d.jsx)("span",{children:"Github"})," ",Object(d.jsx)("span",{children:"Jobs"})]})}),T.display?Object(d.jsx)(N,{id:T.id,allData:g,pageState:E}):Object(d.jsxs)("main",{children:[Object(d.jsx)(h,{sendSearch:Q,searchData:{searchParams:B,setSearchParams:q},forwardedRef:Y}),Object(d.jsx)(p,{ref:Y,filterSearch:function(e){return _(e?g.filter((function(e){return"Full Time"===e.type})):P)},sendSearch:Q,searchData:{searchParams:B,setSearchParams:q}}),i?Object(d.jsx)("div",Object(s.a)(Object(s.a)({className:"load-animation"},m),{},{children:O})):g&&g.length<1?Object(d.jsx)("div",{className:"not-found",children:"No results found"}):e?Object(d.jsx)(v,{data:e,jobId:{jobId:T,setJobId:E},pagination:{currentPage:A,dataPerPage:C,backupData:P,paginate:function(e){return I(e)},searchParams:B,paginateAllData:function(e){q(Object(s.a)(Object(s.a)({},B),{},{page:e})),I(1),K(Object(s.a)(Object(s.a)({},B),{},{page:e}))}}}):Object(d.jsx)("div",{})]}),Object(d.jsx)(b,{})]})};a(22);r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(_,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.f8b96b85.chunk.js.map