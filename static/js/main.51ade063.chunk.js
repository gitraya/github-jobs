(this["webpackJsonpgithub-jobs"]=this["webpackJsonpgithub-jobs"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(8),s=a.n(r),i=a(2),l=a(3),o=a.n(l),j=a(5),u=a(4),d=(a(14),a(1)),b=function(){return Object(d.jsx)("footer",{className:"app-footer",children:Object(d.jsxs)("small",{className:"copyright",children:["created by ",Object(d.jsx)("b",{children:Object(d.jsx)("a",{href:"https://github.com/gitraya",target:"_blank",rel:"noreferrer",children:"gitraya"})}),"- devChallenges.io"]})})},h=(a(16),function(e){var t=e.sendSearch,a=e.searchData,n=e.forwardedRef,r=a.searchParams,s=a.setSearchParams,l=Object(c.useRef)(null);return Object(d.jsx)("section",{className:"search-section",children:Object(d.jsx)("div",{className:"search-box",children:Object(d.jsx)("form",{onSubmit:function(e){return function(e,a){e.preventDefault(),(l.current.value||n.current.value)&&(s(a),t(a),l.current.value="",n.current.value="")}(e,Object(i.a)(Object(i.a)({},r),{},{description:l.current.value,location:n.current.value,page:1}))},children:Object(d.jsxs)("div",{className:"input-control search",children:[Object(d.jsx)("i",{class:"material-icons-round",children:"work_outline"}),Object(d.jsx)("input",{ref:l,className:"input-search",id:"search",name:"search",type:"text",placeholder:"Title, companies, expertise or benefits"}),Object(d.jsx)("input",{className:"submit-search",type:"submit",value:"Search"})]})})})})}),m=(a(17),function(e){var t=e.className,a=e.name,c=e.id,n=e.label,r=e.value,s=e.checked,i=e.onChange;return Object(d.jsxs)("div",{className:t,children:[Object(d.jsx)("input",{type:"radio",name:a,id:"rad-".concat(c),value:r,checked:s,onChange:i}),Object(d.jsx)("label",{htmlFor:"rad-".concat(c),children:n})]})}),p=Object(c.forwardRef)((function(e,t){var a=e.filterSearch,c=e.sendSearch,n=e.searchData,r=n.searchParams,s=n.setSearchParams,l=function(e){s(Object(i.a)(Object(i.a)({},r),{},{location:e.target.value,page:1})),c(Object(i.a)(Object(i.a)({},r),{},{location:e.target.value,page:1}))},o=["London","Amsterdam","New York","Berlin"].map((function(e,t){return Object(d.jsx)(m,{id:t,className:"radio-group",name:"filterlocation",label:e,value:e,checked:r.location===e,onChange:l},t)}));return Object(d.jsxs)("aside",{className:"filter-section",children:[Object(d.jsx)("div",{className:"filter__fulltime",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("input",{defaultChecked:r.isFulltime,onChange:function(){s(Object(i.a)(Object(i.a)({},r),{},{isFulltime:!r.isFulltime})),a(!r.isFulltime)},id:"fulltime",name:"fulltime",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:"fulltime",children:"Full time"})]})}),Object(d.jsx)("div",{className:"filter__search-location",children:Object(d.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsx)("label",{htmlFor:"location",children:"location"}),Object(d.jsxs)("div",{className:"input-control location",children:[Object(d.jsx)("i",{className:"material-icons-round",children:"public"}),Object(d.jsx)("input",{ref:t,id:"location",name:"location",type:"text",placeholder:"City, state, zip code or country"})]})]})}),Object(d.jsx)("div",{className:"filter__location",children:Object(d.jsx)("form",{action:"",children:o})})]})})),O=(a(18),a(19),function(e){var t=(new Date).getDate(),a=new Date(e).getDate();if(a<t){var c=t-a;return c>1?"".concat(c," days ago"):"yesterday"}if(a===t)return"today"}),x="https://cors-anywhere-venky.herokuapp.com/",f=function(e){var t=new URL("https://jobs.github.com/positions.json");return t.search=new URLSearchParams({page:Number(e.page),description:e.description.toLowerCase(),full_time:"".concat(e.isFulltime?"true":""),location:e.location.toLowerCase()}),t},g=function(){var e=Object(j.a)(o.a.mark((function e(t,a,c,n){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,fetch("".concat(x).concat(f(t)));case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,c(s),a(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:n(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a,c,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.coords,e.prev=1,e.next=4,fetch("".concat(x,"https://jobs.github.com/positions.json?lat=").concat(a.latitude,"&long=").concat(a.longitude));case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=e.innerKey,a=e.data,c=e.id,n=c.jobId,r=c.setJobId;return Object(d.jsxs)("div",{className:"card-container",onClick:function(){return r({id:t,display:!n.display})},children:[Object(d.jsx)("div",{className:"card__logo",children:a.company_logo?Object(d.jsx)("img",{src:a.company_logo,alt:"logo"}):Object(d.jsx)("span",{children:"not found"})}),Object(d.jsxs)("div",{className:"card__title",children:[Object(d.jsx)("span",{className:"name",children:a.company}),Object(d.jsx)("h2",{className:"title",children:a.title}),"Full Time"===a.type?Object(d.jsx)("button",{className:"fulltime",children:"Full time"}):""]}),Object(d.jsxs)("div",{className:"card__time",children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"material-icons-round",children:"public"}),a.location]}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{class:"material-icons-round",children:"query_builder"}),O(a.created_at)]})]})]},t)},y=(a(20),a(25)),_=function(e){for(var t=e.currentPage,a=e.dataPerPage,c=e.totalData,n=e.paginate,r=e.currentPageAllData,s=e.paginateAllData,i=[],l=1;l<=Math.ceil(c/a);l++)i.push(l);var o=function(e,t,a){return Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return s(a)},children:Object(d.jsx)("i",{class:"material-icons-round",children:t})})},e)},j=i[i.indexOf(t)-1],u=i[i.indexOf(t)+1],b=function(e){return Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return n(e)},children:e})},e)};return Object(d.jsx)("nav",{className:"pagination-container",children:Object(d.jsxs)("ul",{className:"paginate-wrapper",children:[r>1?o(Object(y.a)(),"navigate_before",r-1):"",2!==t&&i.length>3&&t>i.length/2-1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return n(i[0])},children:i[0]})},i[0]):"",2!==t&&i.length>3&&t>i.length/2-1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item more",type:"button",children:Object(d.jsx)("i",{class:"material-icons-round",children:"more_horiz"})})},Object(y.a)()):"",t>i[0]?b(j):"",c>a?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item active",type:"button",children:t})},t):"",t<=i.length-1?b(u):"",i.length>3&&t<i.length/2+1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item more",type:"button",children:Object(d.jsx)("i",{class:"material-icons-round",children:"more_horiz"})})},Object(y.a)()):"",i.length>3&&t<i.length/2+1?Object(d.jsx)("li",{className:"paginate-control",children:Object(d.jsx)("button",{className:"paginate-item",type:"button",onClick:function(){return n(i[i.length-1])},children:i[i.length-1]})},i[i.length-1]):"",50===c?o(Object(y.a)(),"navigate_next",r+1):""]})})},k=function(e){var t=e.data,a=e.jobId,c=e.pagination,n=t.map((function(e){return Object(d.jsx)(N,{innerKey:e.id,data:e,id:a},e.id)}));return Object(d.jsxs)("section",{className:"list-section",children:[Object(d.jsx)("div",{className:"list__cards",children:n}),Object(d.jsx)("div",{className:"list__pagination",children:Object(d.jsx)(_,{currentPage:c.currentPage,dataPerPage:c.dataPerPage,totalData:c.backupData.length,paginate:c.paginate,currentPageAllData:c.searchParams.page,paginateAllData:c.paginateAllData})})]})},w=(a(21),function(e){var t=e.id,a=e.allData,n=e.pageState,r=a.filter((function(e){return e.id===t}))[0],s=Object(c.useRef)(null),i=Object(c.useRef)(null);return Object(c.useEffect)((function(){s.current.innerHTML=r.description,i.current.innerHTML=r.how_to_apply}),[r]),Object(d.jsxs)("main",{className:"main-container",children:[Object(d.jsxs)("aside",{className:"aside",children:[Object(d.jsx)("div",{className:"back-button",children:Object(d.jsxs)("button",{type:"submit",onClick:function(){return n({id:"",display:!1})},children:[Object(d.jsx)("i",{class:"material-icons-round",children:"arrow_right_alt"}),"Back to search"]})}),Object(d.jsxs)("div",{className:"aside-email",children:[Object(d.jsx)("h2",{children:"how to apply"}),Object(d.jsx)("div",{id:"email",ref:i,className:"email-wrapper"})]})]}),Object(d.jsxs)("section",{className:"detail-section",children:[Object(d.jsxs)("div",{className:"detail__title",children:[Object(d.jsxs)("div",{className:"title-wrapper",children:[Object(d.jsx)("h2",{className:"title",children:r.title}),Object(d.jsx)("button",{className:"fulltime",children:"Full time"})]}),Object(d.jsxs)("span",{className:"created",children:[Object(d.jsx)("i",{class:"material-icons-round",children:"query_builder"}),O(r.created_at)]})]}),Object(d.jsxs)("div",{className:"detail__company",children:[Object(d.jsx)("div",{className:"logo",children:r.company_logo?Object(d.jsx)("img",{src:r.company_logo,alt:"logo"}):Object(d.jsx)("span",{children:"not found"})}),Object(d.jsxs)("div",{className:"company-wrapper",children:[Object(d.jsx)("span",{className:"name",children:r.company}),Object(d.jsxs)("span",{className:"location",children:[Object(d.jsx)("i",{className:"material-icons-round",children:"public"}),r.location]})]})]}),Object(d.jsx)("div",{ref:s,className:"detail__description"})]})]})}),P=a(7),S=function(){var e,t=Object(c.useState)(!1),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(P.b)({loading:!0,indicator:Object(d.jsx)(P.a,{width:"50"})}),l=s.containerProps,m=s.indicatorEl,O=Object(c.useState)(null),x=Object(u.a)(O,2),f=x[0],N=x[1],y=Object(c.useState)(null),_=Object(u.a)(y,2),S=_[0],D=_[1],C=Object(c.useState)(5),F=Object(u.a)(C,1)[0],R=Object(c.useState)(1),A=Object(u.a)(R,2),I=A[0],L=A[1],J=Object(c.useState)({id:"",display:!1}),T=Object(u.a)(J,2),E=T[0],M=T[1],z=Object(c.useState)({description:"",location:"",isFulltime:!1,page:1}),B=Object(u.a)(z,2),q=B[0],H=B[1],K=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.geolocation){e.next=10;break}return e.prev=1,e.next=4,navigator.geolocation.getCurrentPosition(v);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),U=Object(c.useRef)(null),G=function(e){L(1),g(e,N,D,r)};if(Object(c.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=14;break}return e.prev=1,e.next=4,K();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return",g(q,N,D,r));case 7:D(t),N(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()})),f){var Y=I*F,Q=Y-F;e=f.slice(Q,Y)}return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{children:Object(d.jsxs)("div",{className:"app-logo",children:[Object(d.jsx)("span",{children:"Github"})," ",Object(d.jsx)("span",{children:"Jobs"})]})}),E.display?Object(d.jsx)(w,{id:E.id,allData:f,pageState:M}):Object(d.jsxs)("main",{children:[Object(d.jsx)(h,{sendSearch:G,searchData:{searchParams:q,setSearchParams:H},forwardedRef:U}),Object(d.jsx)(p,{ref:U,filterSearch:function(e){return N(e?f.filter((function(e){return"Full Time"===e.type})):S)},sendSearch:G,searchData:{searchParams:q,setSearchParams:H}}),n?Object(d.jsx)("div",Object(i.a)(Object(i.a)({className:"load-animation"},l),{},{children:m})):f&&f.length<1?Object(d.jsx)("div",{className:"not-found",children:"No results found"}):e?Object(d.jsx)(k,{data:e,jobId:{jobId:E,setJobId:M},pagination:{currentPage:I,dataPerPage:F,backupData:S,paginate:function(e){return L(e)},searchParams:q,paginateAllData:function(e){H(Object(i.a)(Object(i.a)({},q),{},{page:e})),L(1),g(Object(i.a)(Object(i.a)({},q),{},{page:e}),N,D,r)}}}):Object(d.jsx)("div",{})]}),Object(d.jsx)(b,{})]})};a(22);s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.51ade063.chunk.js.map